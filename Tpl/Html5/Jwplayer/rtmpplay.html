<!DOCTYPE html>
<html>
<head>
    <title>2.1 JW Player 7 API Changes</title>
    <!-- Chang URLs to wherever Video.js files will be hosted -->
</head>
<body>


<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
<script type="text/javascript" src="__PUBLIC__/lib/jwplayer/jwplayer.js"></script>
<link rel="stylesheet" type="text/css" href="__PUBLIC__/lib/jwplayer/test.css"> </link>
<script type="text/javascript">
    var playerInstance;
    $(function () {
        playerInstance = jwplayer("container");
        playerInstance.setup({
            logo: {
                file: 'http://www.amailive.com/res/pub/logo/logo132.png',
                link: 'http://www.amailive.com/'
            },
            file: "rtmp://tinywan.amai8.com/live123/4001481269282",
            image: "http://www.amailive.com/res/home/images/banner4.png",
            abouttext: "Video Available at Blender.org",
            aboutlink: "http://www.blender.org",
            height: 660,
            primary: "flash",
            width: 940,
            rtmp: {
                bufferlength: 3 //理智值的范围从0.1（为低延迟实时流）到10（以防止频繁的重新缓冲）。
            },
            skin: {
                name: "myskin",
                active: "red",
                inactive: "white",
                background: "black"
            }
        });

        //################################事件注册=#############################################################
        //onReady不应再被使用。它被替换on('ready')
        playerInstance.on('ready',function () {
            console.log('ready');
        });

        //
        playerInstance.on('play',function () {
            console.log('start play');
        });

        //自动加载
        playerInstance.on('playlist',function () {
            console.log('load playlist');
        });

        //播放下标为1的视频事件回调函数
        playerInstance.on('playlistItem',function () {
            console.log('load playlistItem 1');
        });

//        playerInstance.on('time',function () {
//            console.log('load playlistItem time 000000');
//        });
        //#######################################################################################################

        //播放 暂停
        $('.player-play').click(function () {
            console.log(playerInstance.getState());
            if(playerInstance.getState() != 'playing'){
                playerInstance.play(true);
                this.value = '暂停';
            }else if(playerInstance.getState() != 'idle'){
                playerInstance.play(false);
                this.value = '播放';
            }
        });

        //获取视频长度
        $('.player-length').click(function () {
            alert(playerInstance.getDuration());
        });

        //播放下标为1的视频
        $('.player-list-1').click(function () {
            playerInstance.playlistItem(1);
        });

        //播放上一个视频
        $('.player-list-prev').click(function () {
            playerInstance.playlistPrev();
        });

        //播放下一个视频
        $('.player-list-next').click(function () {
            playerInstance.playlistNext();
        });

    });

</script>
<div id="container"></div>
<hr/>
<input type="button" class="player-play" value="播放" />
<input type="button" class="player-stop" value="停止" />
<input type="button" class="player-status" value="取得状态" />
<input type="button" class="player-current" value="当前播放秒数" />
<input type="button" class="player-goto" value="转到第600秒播放" />
<input type="button" class="player-length" value="视频时长(秒)" /><br/>
<input type="button" class="player-list-1" value="播放下标为1的视频" /><br/>
<hr/>
<input type="button" class="player-list-prev" value="播放上一个视频" /><br/>
<input type="button" class="player-list-next" value="播放下一个视频" /><br/>


<span id="info"/>
</body>
</html>
