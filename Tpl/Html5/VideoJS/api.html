<!DOCTYPE html>
<html lang="en">
<head>
    <link href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <link href="__PUBLIC__/lib/video-js/video-js.css" rel="stylesheet">
    <script src="__PUBLIC__/lib/video-js/video.js"></script>
    <script src="__PUBLIC__/lib/video-js/videojs-contrib-hls.min.js"></script>
    <script>
        videojs.options.flash.swf = "__PUBLIC__/lib/video-js/video-js.swf"
    </script>

</head>
<body>
<center>
    <video id="live-stream" class="video-js vjs-default-skin vjs-big-play-centered"
           controls autoplay preload="auto" width="1080" height="520" poster="__PUBLIC__/Common/static/images/videodemo.png"
           data-setup='{"example_option":true}'>
        <source src="http://amaitest.oss-cn-hangzhou.aliyuncs.com/record/live123/4001482214656.m3u8"
                type="application/x-mpegURL">
    </video>
</center>
<hr/>
<center>
    <input type="button" class="getCurrentType" value="获取当前类型" />
    <input type="button" class="getCurrentAddr" value="获取当前播放地址" />
    <input type="button" class="getCurrentTime" value="获取当前播放时间" />
    <input type="button" class="networkState" value="获取当前网络状态" />
    <input type="button" class="reset" value="重载播放器" />
    <input type="button" class="play" value="播放" />
    <input type="button" class="pause" value="暂停" />
    <input type="button" class="player-setsrc" value="修改播放地址" /><br/>
</center>

<script type="text/javascript">
    var options = {};
    var js_player = videojs('live-stream',options,function onPlayerReady() {
        videojs.log('Your player is ready!');
        this.play();
        this.on('ended', function() {
            videojs.log('Awww...over so soon?!');
        });
    });
    //获取当前类型
    $('.getCurrentType').click(function () {
        console.log(js_player.currentType());
    });

    //获取当前播放地址
    $('.getCurrentAddr').click(function () {
        console.log(js_player.currentSrc());
    });

    //获取当前播放地址
    $('.getCurrentTime').click(function () {
        console.log(js_player.currentTime());
    });

    //获取当前网络状态
    $('.networkState').click(function () {
        console.log(js_player.networkState());
    });

    //重载播放器
    $('.reset').click(function () {
        console.log(js_player.reset());
    });

    //播放
    $('.play').click(function () {
        console.log(js_player.play());
    });

    //暂停
    $('.pause').click(function () {
        console.log(js_player.pause());
    });

    $('.player-setsrc').click(function () {
        js_player.src('http://amaitest.oss-cn-hangzhou.aliyuncs.com/record/live123/4001482214656.m3u8');
    });


</script>
</body>
</html>
